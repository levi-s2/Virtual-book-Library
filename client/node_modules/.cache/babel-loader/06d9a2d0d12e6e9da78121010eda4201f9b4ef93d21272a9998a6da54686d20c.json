{"ast":null,"code":"import React from'react';import{Formik,Form,Field,ErrorMessage}from'formik';import*as Yup from'yup';import'./css/login.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=_ref=>{let{onLogin}=_ref;const initialValues={name:'',password:''};const validationSchema=Yup.object({name:Yup.string().min(3,'Name must be at least 3 characters long').max(30,'Name cannot be longer than 30 characters').required('Name is required'),password:Yup.string().min(6,'Password must be at least 6 characters long').required('Password is required')});const handleSubmit=async(values,_ref2)=>{let{setSubmitting,setErrors}=_ref2;try{await onLogin(values.name,values.password);}catch(error){setErrors({general:'Login failed: '+error.message});}finally{setSubmitting(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsx(Formik,{initialValues:initialValues,validationSchema:validationSchema,onSubmit:handleSubmit,children:_ref3=>{let{isSubmitting,errors}=_ref3;return/*#__PURE__*/_jsxs(Form,{className:\"login-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(Field,{name:\"name\",type:\"text\",className:\"form-input\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"name\",component:\"div\",className:\"error-message\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(Field,{name:\"password\",type:\"password\",className:\"form-input\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\",component:\"div\",className:\"error-message\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-button\",disabled:isSubmitting,children:\"Login\"}),errors.general&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:errors.general})]});}})]});};export default Login;","map":{"version":3,"names":["React","Formik","Form","Field","ErrorMessage","Yup","jsx","_jsx","jsxs","_jsxs","Login","_ref","onLogin","initialValues","name","password","validationSchema","object","string","min","max","required","handleSubmit","values","_ref2","setSubmitting","setErrors","error","general","message","className","children","onSubmit","_ref3","isSubmitting","errors","type","component","disabled"],"sources":["/home/levi/Development/code/phase-4/book-store/client/src/components/Login.js"],"sourcesContent":["import React from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport './css/login.css';\n\nconst Login = ({ onLogin }) => {\n  const initialValues = {\n    name: '',\n    password: '',\n  };\n\n  const validationSchema = Yup.object({\n    name: Yup.string()\n      .min(3, 'Name must be at least 3 characters long')\n      .max(30, 'Name cannot be longer than 30 characters')\n      .required('Name is required'),\n    password: Yup.string()\n      .min(6, 'Password must be at least 6 characters long')\n      .required('Password is required'),\n  });\n\n  const handleSubmit = async (values, { setSubmitting, setErrors }) => {\n    try {\n      await onLogin(values.name, values.password);\n    } catch (error) {\n      setErrors({ general: 'Login failed: ' + error.message });\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"login-container\">\n      <h2>Login</h2>\n      <Formik\n        initialValues={initialValues}\n        validationSchema={validationSchema}\n        onSubmit={handleSubmit}\n      >\n        {({ isSubmitting, errors }) => (\n          <Form className=\"login-form\">\n            <div className=\"form-group\">\n              <label>Name:</label>\n              <Field name=\"name\" type=\"text\" className=\"form-input\" />\n              <ErrorMessage name=\"name\" component=\"div\" className=\"error-message\" />\n            </div>\n            <div className=\"form-group\">\n              <label>Password:</label>\n              <Field name=\"password\" type=\"password\" className=\"form-input\" />\n              <ErrorMessage name=\"password\" component=\"div\" className=\"error-message\" />\n            </div>\n            <button type=\"submit\" className=\"login-button\" disabled={isSubmitting}>Login</button>\n            {errors.general && <p className=\"error-message\">{errors.general}</p>}\n          </Form>\n        )}\n      </Formik>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}