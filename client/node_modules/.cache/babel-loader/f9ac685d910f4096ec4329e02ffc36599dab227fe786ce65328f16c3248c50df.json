{"ast":null,"code":"import axios from 'axios';\nexport const refreshToken = async () => {\n  try {\n    const response = await axios.post('http://localhost:5000/refresh', {}, {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('refresh_token')}`\n      }\n    });\n    const {\n      access_token\n    } = response.data;\n    localStorage.setItem('token', access_token);\n    return access_token;\n  } catch (error) {\n    console.error('Error refreshing token:', error);\n    localStorage.removeItem('token');\n    localStorage.removeItem('refresh_token');\n    window.location.href = '/login';\n    return null;\n  }\n};","map":{"version":3,"names":["axios","refreshToken","response","post","headers","localStorage","getItem","access_token","data","setItem","error","console","removeItem","window","location","href"],"sources":["/home/levi/Development/code/phase-4/book-store/client/src/components/utils/auth.js"],"sourcesContent":["import axios from 'axios';\n\nexport const refreshToken = async () => {\n  try {\n    const response = await axios.post('http://localhost:5000/refresh', {}, {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('refresh_token')}`\n      }\n    });\n\n    const { access_token } = response.data;\n    localStorage.setItem('token', access_token);\n    return access_token;\n  } catch (error) {\n    console.error('Error refreshing token:', error);\n    localStorage.removeItem('token');\n    localStorage.removeItem('refresh_token');\n    window.location.href = '/login';\n    return null;\n  }\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;EACtC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMF,KAAK,CAACG,IAAI,CAAC,+BAA+B,EAAE,CAAC,CAAC,EAAE;MACrEC,OAAO,EAAE;QACP,eAAe,EAAG,UAASC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAE;MACnE;IACF,CAAC,CAAC;IAEF,MAAM;MAAEC;IAAa,CAAC,GAAGL,QAAQ,CAACM,IAAI;IACtCH,YAAY,CAACI,OAAO,CAAC,OAAO,EAAEF,YAAY,CAAC;IAC3C,OAAOA,YAAY;EACrB,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/CL,YAAY,CAACO,UAAU,CAAC,OAAO,CAAC;IAChCP,YAAY,CAACO,UAAU,CAAC,eAAe,CAAC;IACxCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;IAC/B,OAAO,IAAI;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}