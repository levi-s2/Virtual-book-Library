{"ast":null,"code":"import React from'react';import{Formik,Form,Field,ErrorMessage}from'formik';import*as Yup from'yup';import'./css/register.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=_ref=>{let{onRegister}=_ref;const initialValues={name:'',password:''};const validationSchema=Yup.object({name:Yup.string().min(3,'Name must be at least 3 characters long').max(30,'Name cannot be longer than 30 characters').required('Name is required'),password:Yup.string().min(6,'Password must be at least 6 characters long').required('Password is required')});const handleSubmit=async(values,_ref2)=>{let{setSubmitting,setErrors,setStatus}=_ref2;try{await onRegister(values.name,values.password);setStatus({success:'Registration successful!'});setErrors({});}catch(error){setErrors({general:'Registration failed: '+error.message});setStatus({success:null});}finally{setSubmitting(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"register-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),/*#__PURE__*/_jsx(Formik,{initialValues:initialValues,validationSchema:validationSchema,onSubmit:handleSubmit,children:_ref3=>{let{isSubmitting,status,errors}=_ref3;return/*#__PURE__*/_jsxs(Form,{className:\"register-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(Field,{name:\"name\",type:\"text\",className:\"form-input\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"name\",component:\"div\",className:\"error-message\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(Field,{name:\"password\",type:\"password\",className:\"form-input\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\",component:\"div\",className:\"error-message\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"register-button\",disabled:isSubmitting,children:\"Register\"}),status&&status.success&&/*#__PURE__*/_jsx(\"p\",{className:\"success-message\",children:status.success}),errors.general&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:errors.general})]});}})]});};export default Register;","map":{"version":3,"names":["React","Formik","Form","Field","ErrorMessage","Yup","jsx","_jsx","jsxs","_jsxs","Register","_ref","onRegister","initialValues","name","password","validationSchema","object","string","min","max","required","handleSubmit","values","_ref2","setSubmitting","setErrors","setStatus","success","error","general","message","className","children","onSubmit","_ref3","isSubmitting","status","errors","type","component","disabled"],"sources":["/home/levi/Development/code/phase-4/book-store/client/src/components/Register.js"],"sourcesContent":["import React from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport './css/register.css';\n\nconst Register = ({ onRegister }) => {\n  const initialValues = {\n    name: '',\n    password: '',\n  };\n\n  const validationSchema = Yup.object({\n    name: Yup.string()\n      .min(3, 'Name must be at least 3 characters long')\n      .max(30, 'Name cannot be longer than 30 characters')\n      .required('Name is required'),\n    password: Yup.string()\n      .min(6, 'Password must be at least 6 characters long')\n      .required('Password is required'),\n  });\n\n  const handleSubmit = async (values, { setSubmitting, setErrors, setStatus }) => {\n    try {\n      await onRegister(values.name, values.password);\n      setStatus({ success: 'Registration successful!' });\n      setErrors({});\n    } catch (error) {\n      setErrors({ general: 'Registration failed: ' + error.message });\n      setStatus({ success: null });\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"register-container\">\n      <h2>Register</h2>\n      <Formik\n        initialValues={initialValues}\n        validationSchema={validationSchema}\n        onSubmit={handleSubmit}\n      >\n        {({ isSubmitting, status, errors }) => (\n          <Form className=\"register-form\">\n            <div className=\"form-group\">\n              <label>Name:</label>\n              <Field name=\"name\" type=\"text\" className=\"form-input\" />\n              <ErrorMessage name=\"name\" component=\"div\" className=\"error-message\" />\n            </div>\n            <div className=\"form-group\">\n              <label>Password:</label>\n              <Field name=\"password\" type=\"password\" className=\"form-input\" />\n              <ErrorMessage name=\"password\" component=\"div\" className=\"error-message\" />\n            </div>\n            <button type=\"submit\" className=\"register-button\" disabled={isSubmitting}>Register</button>\n            {status && status.success && <p className=\"success-message\">{status.success}</p>}\n            {errors.general && <p className=\"error-message\">{errors.general}</p>}\n          </Form>\n        )}\n      </Formik>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}