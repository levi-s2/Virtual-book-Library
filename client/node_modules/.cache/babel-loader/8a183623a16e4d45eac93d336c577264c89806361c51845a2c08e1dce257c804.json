{"ast":null,"code":"import axios from'axios';export const refreshToken=async()=>{try{const response=await axios.post('http://localhost:5000/refresh',{},{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('refresh_token'))}});const{access_token}=response.data;localStorage.setItem('token',access_token);return access_token;}catch(error){console.error('Error refreshing token:',error);localStorage.removeItem('token');localStorage.removeItem('refresh_token');window.location.href='/login';return null;}};","map":{"version":3,"names":["axios","refreshToken","response","post","headers","concat","localStorage","getItem","access_token","data","setItem","error","console","removeItem","window","location","href"],"sources":["/home/levi/Development/code/phase-4/book-store/client/src/components/utils/auth.js"],"sourcesContent":["import axios from 'axios';\n\nexport const refreshToken = async () => {\n  try {\n    const response = await axios.post('http://localhost:5000/refresh', {}, {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('refresh_token')}`\n      }\n    });\n\n    const { access_token } = response.data;\n    localStorage.setItem('token', access_token);\n    return access_token;\n  } catch (error) {\n    console.error('Error refreshing token:', error);\n    localStorage.removeItem('token');\n    localStorage.removeItem('refresh_token');\n    window.location.href = '/login';\n    return null;\n  }\n};\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,MAAO,MAAM,CAAAC,YAAY,CAAG,KAAAA,CAAA,GAAY,CACtC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAF,KAAK,CAACG,IAAI,CAAC,+BAA+B,CAAE,CAAC,CAAC,CAAE,CACrEC,OAAO,CAAE,CACP,eAAe,WAAAC,MAAA,CAAYC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CAClE,CACF,CAAC,CAAC,CAEF,KAAM,CAAEC,YAAa,CAAC,CAAGN,QAAQ,CAACO,IAAI,CACtCH,YAAY,CAACI,OAAO,CAAC,OAAO,CAAEF,YAAY,CAAC,CAC3C,MAAO,CAAAA,YAAY,CACrB,CAAE,MAAOG,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/CL,YAAY,CAACO,UAAU,CAAC,OAAO,CAAC,CAChCP,YAAY,CAACO,UAAU,CAAC,eAAe,CAAC,CACxCC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,QAAQ,CAC/B,MAAO,KAAI,CACb,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}